import{r as t,u as R,a as U,j as e}from"./index-Bluomjo3.js";import{c as D}from"./createLucideIcon-BSuAhcd7.js";function V({title:a,titleId:l,...n},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},n),a?t.createElement("title",{id:l},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const I=t.forwardRef(V);function z({title:a,titleId:l,...n},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},n),a?t.createElement("title",{id:l},a):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const A=t.forwardRef(z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],H=D("User",B),O=()=>{const a=R(),{login:l}=U(),[n,o]=t.useState(""),[d,k]=t.useState(""),[u,m]=t.useState(null),[x,h]=t.useState(null),[w,f]=t.useState(null),[i,p]=t.useState(!1),[g,C]=t.useState(!1),[c,S]=t.useState(!1),v=s=>{if(s.trim()){if(s.length>100)return"ชื่อผู้ใช้ต้องไม่เกิน 100 ตัวอักษร"}else return"กรุณาระบุชื่อผู้ใช้";return null},b=s=>{if(s){if(s.length<8)return"รหัสผ่านต้องมีอย่างน้อย 8 ตัวอักษร"}else return"กรุณาระบุรหัสผ่าน";return null},L=s=>{const r=s.target.value;o(r),g&&m(v(r))},M=s=>{const r=s.target.value;k(r),g&&h(b(r))},j=async s=>{s.preventDefault(),C(!0);const r=v(n),N=b(d);if(m(r),h(N),!(r||N)){f(null),p(!0);try{await l({username:n.trim(),password:d,email:""}),a("/dashboard")}catch(E){console.error("Login error:",E),f(E)}finally{p(!1)}}},y=s=>{s.key==="Enter"&&(s.preventDefault(),j(s))},P=()=>{S(!c)};return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg border shadow-xl overflow-hidden max-w-4xl w-full flex",children:[e.jsxs("div",{className:"w-1/2 p-8 hidden md:block relative",children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx("img",{src:"/src/assets/logo.svg",alt:"logo",className:"w-16 h-16"})}),e.jsx("h2",{className:"text-2xl font-bold text-header",children:"JodMaiLong"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"ระบบบริหารจัดการอาคารจอดรถอัจฉริยะ"})]}),e.jsx("div",{className:"illustration",children:e.jsx("img",{src:"/src/assets/login-illustration.svg",alt:"Security Illustration",className:"w-full h-auto",onError:s=>{const r=s.target;r.src="/src/assets/findCar.svg"}})})]}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full",children:[e.jsx("div",{className:"absolute top-12 left-4 w-20 h-20 bg-blue-100 rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-12 right-4 w-16 h-16 bg-blue-100 rounded-full opacity-50"}),e.jsx("div",{className:"absolute bottom-1/4 left-12 w-10 h-10 border-2 border-blue-200 rounded-full"})]})]}),e.jsx("div",{className:"w-full md:w-1/2 bg-secondary p-8 flex justify-center items-center",children:e.jsxs("div",{className:"max-w-md mx-auto w-full",children:[e.jsx("h2",{className:"text-2xl font-bold text-header mb-8",children:"เข้าสู่ระบบ"}),w&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-error px-4 py-3 rounded-md mb-4",children:w.message}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-md overflow-hidden flex items-center",children:[e.jsx("span",{className:"pl-3 text-gray-400",children:e.jsx(H,{className:"w-5 h-5"})}),e.jsx("input",{type:"text",id:"username",value:n,onChange:L,onKeyDown:y,className:"flex-1 py-2 px-2 outline-none text-gray-700",placeholder:"กรอกชื่อผู้ใช้",disabled:i,autoComplete:"username"})]}),u&&e.jsx("p",{className:"text-error text-sm mt-1",children:u})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"bg-white rounded-md overflow-hidden flex items-center",children:[e.jsx("span",{className:"pl-3 text-gray-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),e.jsx("input",{type:c?"text":"password",id:"password",value:d,onChange:M,onKeyDown:y,className:"flex-1 py-2 px-2 outline-none text-gray-700",placeholder:"กรอกรหัสผ่านขั้นต่ำ 8 ตัวอักษร",disabled:i,autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:P,className:"pr-3 text-gray-400 focus:outline-none",children:c?e.jsx(I,{className:"h-5 w-5"}):e.jsx(A,{className:"h-5 w-5"})})]}),x&&e.jsx("p",{className:"text-error text-sm mt-1",children:x})]}),e.jsx("div",{className:"flex space-x-4 pt-4",children:e.jsx("button",{type:"button",onClick:j,disabled:i,className:"w-1/2 py-2 px-4 border border-white text-white bg-primary hover:bg-primaryContrast rounded-md font-medium transition-colors",children:i?"กำลังเข้าสู่ระบบ...":"เข้าสู่ระบบ"})})]})]})})]})})};export{O as default};
